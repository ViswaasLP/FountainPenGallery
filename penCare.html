<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="icon" type="image/png" href="./Assets/nib_favicon.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Oswald&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="penCareBody" style="margin: 0">
    <!-- Navigation Panel -->
    <nav class="topnav" id="navbar">
      <a href="./index.html">
          <div class="logoContainer"><span class="brand"><img src="./Assets/ecrivezLogo.png" width="66"
                      sizes="(max-width: 479px) 100vw, (max-width: 767px) 62.890625px, 66px"
                      alt="Go to Ecrivez homepage" /></span>
              <div class="logoHeadingContainer">
                  <span class="titleTextLogo">Écrivez</span>
              </div>
          </div>
      </a>
      <div class="navigationLinksContainer">
          <a href="./penCare.html" class="link-block">Pen Care</a>
          <a href="./account.html" class="link-block">Account</a>
          <a href="javascript:void(0);" class="icon" onclick="myFunction()">
              ☰
          </a>
      </div>
  </nav>
  <div class="navigationLinksContainer_mobile" id="navigationLinksContainer_mobileId">
    <a href="./penCare.html" class="link-block">Pen Care</a>
    <a href="./account.html" class="link-block">Account</a>
</div>
    <!-- Main section container -->
    <section class="heroContainer">
      <div class="penCareContainer">
        <h2 class="penCareContainerTitle">Pen Care</h2>
        <div class="penCareAccordion">
          <!-- Accordion Trigger -->
          <button
            onclick="myFunction()"
            id="accordionTrigger"
            aria-expanded="false"
            aria-controls="ExpandedAccordionContainer"
            class="penCareAccordionTrigger"
          >
            <h3 class="penCareAccordionTriggerHeading">
              How to clean your pen?
            </h3>
          </button>
          <!-- Expanded accordion section -->
          <div
            aria-labelledby="accordionTrigger"
            id="ExpandedAccordionContainer"
            class="penCareAccordionExpandedRegion"
            role="region"
          >
            <span
              >There are many ways to clean your fountain pen. (Coming
              soon....)</span
            >
          </div>
        </div>
        <!-- Modal button trigger -->
        <button id="modalButton">
          Help! My nib is bent!<span class="sr-only">Opens Modal</span>
        </button>

        <!-- The Modal -->
        <div id="modalContainer" class="modal">
          <!-- Modal content -->
          <div
            role="dialog"
            aria-label="modal dialog"
            aria-modal="true"
            class="modal-content"
          >
            <!-- Close button -->
            <button aria-label="Close the modal" id="modalClose" class="close">
              &times;
            </button>
            <p>Pry it back to place with your thumb and index finger.</p>
            <!-- Link to Sign in Page -->
            <a id="modalLink" href="./account.html"
              >SIgn In to acquire more info!</a
            >
          </div>
        </div>
      </div>
    </section>
    <script>
      let modal = document.getElementById("modalContainer");
      let closeButton = document.getElementById("modalClose");
      let modalLink = document.getElementById("modalLink");
      let modalbtn = document.getElementById("modalButton");

      function myFunction() {
        var x = document
          .getElementById("accordionTrigger")
          .getAttribute("aria-expanded");
        if (x == "true") {
          x = "false";
        } else {
          x = "true";
        }
        document
          .getElementById("accordionTrigger")
          .setAttribute("aria-expanded", x);
      }
      //When the user clicks on the modal trigger button.
      modalbtn.onclick = function () {
        modal.style.display = "block";
        modalLink.focus();
      };

      // When the user activates the close button, close the modal
      closeButton.onclick = function () {
        modal.style.display = "none";
      };

      // Scenario: If user clicks anywhere outside modal, close the modal
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      // Function to control focus within the modal dialog.
      document.addEventListener("keydown", function (e) {
        // Boolean for checking if user presses "Tab"
        let isTabPressed = e.key === "Tab" || e.keyCode === 9;

        // If Tab isn't pressed
        if (!isTabPressed) {
          return;
        }
        // If Shift key is pressed for "Shift + TAB" combination
        if (e.shiftKey) {
          if (document.activeElement === closeButton) {
            // Add focus for the last focusable element
            modalLink.focus();
            e.preventDefault();
          }
        } else {
          // If "TAB" key is pressed
          if (document.activeElement === modalLink) {
            // If focus has reached to last focusable element, then shift focus to first element in modal.
            closeButton.focus();
            e.preventDefault();
          }
        }
      });

      closeButton.focus();

      function myFunction() {
  var x = document.getElementById("navigationLinksContainer_mobileId");
  if (x.className === "navigationLinksContainer_mobile") {
    x.className += " active";
  } else {
    x.className = "navigationLinksContainer_mobile";
  }
}
    </script>
    <script src="./script.js"></script>
  </body>
</html>
